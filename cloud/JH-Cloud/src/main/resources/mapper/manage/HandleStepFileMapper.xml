<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jh.produce.process.mapping.IHandleStepFileMapper" >
  <resultMap id="BaseResultMap" type="com.jh.produce.process.entity.HandleStepFile" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="handle_detail_id" property="handleDetailId" jdbcType="INTEGER" />
    <result column="file_path" property="filePath" jdbcType="VARCHAR" />
    <result column="storage_id" property="storageId" jdbcType="INTEGER" />
    <result column="io_type" property="ioType" jdbcType="INTEGER" />
  </resultMap>
  <insert id="insert" parameterType="com.jh.produce.process.entity.HandleStepFile" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into pro_handle_step_file (handle_detail_id, file_path, storage_id)
    values (#{handleDetailId,jdbcType=INTEGER}, #{filePath,jdbcType=VARCHAR}, #{storageId,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.jh.produce.process.entity.HandleStepFile" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into pro_handle_step_file
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="handleDetailId != null" >
        handle_detail_id,
      </if>
      <if test="filePath != null" >
        file_path,
      </if>
      <if test="storageId != null" >
        storage_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="handleDetailId != null" >
        #{handleDetailId,jdbcType=INTEGER},
      </if>
      <if test="filePath != null" >
        #{filePath,jdbcType=VARCHAR},
      </if>
      <if test="storageId != null" >
        #{storageId,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>

  <insert id="saveForHandleStepFileList" parameterType="com.jh.produce.process.entity.HandleStepFile">
    insert into pro_handle_step_file(handle_detail_id,file_path,io_type) values
    <foreach collection="hsfList" item="item" index="index" separator=",">
      (
      #{item.handleDetailId,jdbcType=INTEGER},
      #{item.filePath,jdbcType=VARCHAR},
      #{item.ioType,jdbcType=INTEGER}
      )
    </foreach>
  </insert>

  <select id="findHandleStepFileByHandleDetailId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select handle_detail_id, file_path, storage_id, io_type from pro_handle_step_file where handle_detail_id = #{handleDetailId,jdbcType=INTEGER} and io_type = 3002
  </select>
</mapper>